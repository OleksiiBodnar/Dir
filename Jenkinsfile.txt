
pipeline {

   agent any
      
   stages {
       stage('git pull') {
           steps {
                echo "git pull start ..."
                git url: 'https://github.com/OleksiiBodnar/Dir.git', branch: 'main'
           }
       }
           
       stage('docker-compose up') {
           steps {
              echo "docker-compose up start ..."
              sh "docker-compose up -d"
           }
       }
   }

   post {
      unsuccessful {
         echo "unsuccessful job :(( "
         sh "docker-compose down || true"
      }
   }   
}